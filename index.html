<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="css/jquery.mobile-1.4.5.css" rel="stylesheet" />
<link href="css/jquery.mobile.theme-1.4.5.css" rel="stylesheet" />
<link href="css/jquery.mobile.structure-1.4.5.css" rel="stylesheet" />
<script src="phonegap.js" type="text/javascript"></script>
<script src="js/jquery-2.1.4.min.js" type="text/javascript" ></script>
<script src="js/jquery.mobile-1.4.5.js" type="text/javascript"></script> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Documento sin título</title>
<script type="text/javascript">
document.addEventListener("deviceready",function (){
	$("#btnTomarFoto").tap(function (){
		//alert("ejecución correcta");	
		navigator.device.capture.captureImage(function (Foto){
			ruta=Foto[0].fullPath;
			//colocar la imagen en la aplicación utilizando una etiqueta <img>
			$("#imagen").append('<img src="'+ruta+'" width="100%" />').attr('rel',ruta);
			},function (error){
			navigator.notification.alert("Error: "+error.code,null,"Captura de error");
			},{limit:1});
	});
},false);
</script>
<style type="text/css">
	p{
		text-align:center;
	}
</style>
</head>

<body>
<div data-role="page" id="principal" data-theme="b">
	<div data-role="header">
    	<p>Acceso a camara</p>
    </div> 
    <div data-role="content">
    	<input type="button" value="Tomar Foto" id="btnTomarFoto"  />
        <div id="imagen"></div>
    </div>
    <div data-role="footer" data-position="fixed">
    	<p>Pie de aplicación</p>
    </div>
</div>

</body>
</html>
